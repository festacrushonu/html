(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{328:function(e,t,n){"use strict";n.r(t);var r=n(9),o=(n(51),n(11),n(41),{data:function(){return{images:[]}},mounted:function(){var e=this;this.$auth.user.images.forEach((function(image){e.images.push({base:image.url,url:"https://api.crushonu.com.br/uploads/"+image.url})}))},methods:{onDelete:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$delete("image?url="+e.base).finally(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.fetchUser();case 2:case"end":return e.stop()}}),e)}))));case 2:t.$vs.notification({color:"danger",position:"top-center",title:"Fotos atualizadas",text:"Foto selecionada foi apagada"});case 3:case"end":return n.stop()}}),n)})))()},onOversize:function(){this.$vs.notification({color:"danger",position:"top-center",title:"Eu sei que você é bonito demais",text:"Por isso a foto é muito pesada, suba outra."})},save:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("images",{images:e.images}).finally(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.fetchUser();case 2:case"end":return t.stop()}}),t)}))));case 2:e.$vs.notification({color:"success",position:"top-center",title:"Fotos atualizadas",text:"Pense numa pessoa bonita"});case 3:case"end":return t.stop()}}),t)})))()}}}),c=n(20),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"text-center uppercase text-2xl text-white mb-2"},[e._v("Fotos")]),e._v(" "),e.$route.query.alert?n("div",{staticClass:"bg-red-600 text-white text-center p-2"},[e._v("\n        Antes de jogar você precisa de fotos\n    ")]):e._e(),e._v(" "),n("form",{staticClass:"bg-white shadow p-2",on:{submit:function(t){return t.preventDefault(),e.save()}}},[n("van-uploader",{attrs:{multiple:"","max-count":3,"max-size":2048e3},on:{oversize:e.onOversize,delete:e.onDelete},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}}),e._v(" "),n("button",{staticClass:"bg-pink-600 hover:bg-pink-900 text-white font-bold p-1 rounded w-full uppercase rounded-xl",attrs:{type:"submit"}},[e._v("\n            Salvar\n        ")])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);